<script>
  import Welcome from "./welcoming/components/welcome.component.vue";
  import ShowDeveloperCount from "./welcoming/components/show-developer-count.component.vue";
  import RegisterDeveloper from "./welcoming/components/register-developer.component.vue";

  export default {
    name: 'App',
    components: {RegisterDeveloper, ShowDeveloperCount, Welcome},
    data() {
      return {
        firstName: '',
        lastName: '',
        developerCount: 0,
      }
    },
    methods: {
      updateDeveloperCount(developer) {
        if(developer.fullName !== "Unknown")
          this.developerCount++;
      },
      onDeveloperRegistered(developer) {
        this.firstName = developer.firstName;
        this.lastName = developer.lastName;
        console.log(`Developer registered: ${developer.fullName}`);
        this.updateDeveloperCount(developer);
      }
    }
  }
</script>

<template>
  <h1>Hello Vue Developer Application</h1>
  <register-developer v-on:developer-regis.prevent="onDeveloperRegistered" />
  <welcome :first-name="firstName" :last-name="lastName"/>
  <show-developer-count developer-count="developerCount"/>
</template>

<style scoped>

</style>
